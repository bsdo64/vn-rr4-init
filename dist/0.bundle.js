webpackJsonp([0],{"../node_modules/babel-loader/lib/index.js!./routes/page4/index.js":function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n(e){return{state:e}}function r(e){return{increment:function(t){return e({type:"INCREMENT"})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=i("../node_modules/react/react.js"),l=i.n(o),c=i("../node_modules/react-redux/es/index.js"),m=i("./routes/page4/Container/Modal/index.js"),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),p=function(e){function t(){s(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={modalOpen:!1},e.openModal=e.openModal.bind(e),e}return a(t,e),d(t,[{key:"openModal",value:function(){this.setState({modalOpen:!this.state.modalOpen})}},{key:"render",value:function(){return l.a.createElement("div",{style:{width:100}},"Page 4",l.a.createElement("button",{onClick:this.openModal},"click"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tempus, augue sed ultrices dictum, lorem justo aliquam mi, sit amet luctus diam arcu interdum felis. Integer sem nisi, efficitur vel eros vitae, vestibulum eleifend nibh. Integer vestibulum egestas tortor, ut blandit velit dictum in. Maecenas quis nisi metus. Integer hendrerit, ex vitae dignissim bibendum, purus mauris porttitor ante, eget eleifend erat tellus nec lectus. Sed at neque cursus, varius ipsum ac, vestibulum ligula. Curabitur ullamcorper consectetur dignissim. Proin quis semper felis. Lorem ipsum dolor sit amet, consectetur adipiscing elit."),l.a.createElement("p",null,"Maecenas quis hendrerit nibh. Curabitur neque felis, maximus et iaculis et, dictum id lacus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum ut sagittis sem. Mauris vitae porta sem. Morbi a egestas dui. Fusce nec nibh sagittis magna bibendum congue. Aliquam consequat risus et est auctor, id pellentesque dolor accumsan. Vestibulum purus lorem, eleifend in massa a, placerat tincidunt nulla. Donec convallis, justo ut feugiat rhoncus, nisi erat pretium mi, ac rhoncus felis magna eget nisl."),l.a.createElement("p",null,"Maecenas tristique felis eu nunc mollis, non suscipit metus eleifend. Sed cursus leo eget vestibulum pretium. Pellentesque magna libero, tincidunt vitae leo at, mattis cursus turpis. Proin posuere elit nec consectetur accumsan. In ex est, pellentesque eu consequat a, consectetur id ipsum. Proin quis nisi eu magna varius tincidunt. Ut odio mauris, interdum ac sodales eu, cursus et purus. Lorem ipsum dolor sit amet, consectetur adipiscing elit."),l.a.createElement("p",null,"Morbi nec tempus est. Nulla pretium ex mauris, vitae semper orci mattis in. Phasellus cursus sagittis urna at malesuada. Vestibulum sed finibus sapien. Vestibulum mollis libero dolor, nec porta arcu sodales vel. Praesent vitae ultrices lectus, quis molestie lorem. In sit amet vestibulum nibh. Curabitur sit amet nisi eget turpis placerat molestie. Vestibulum eget bibendum eros, sed lacinia augue. Maecenas eleifend mi odio, sed gravida mauris malesuada vel."),l.a.createElement("p",null,"Donec quis eros at ante placerat tincidunt et at justo. Quisque vel venenatis lorem. Suspendisse eros diam, vulputate sed mauris vel, ornare gravida leo. Sed pellentesque luctus laoreet. Aenean eu ante sit amet quam dignissim sodales eget ut odio. Suspendisse vel nisi aliquet, vulputate justo ut, venenatis sapien. Curabitur lectus dolor, fermentum sit amet congue eget, viverra a ante. Nulla magna enim, dignissim non purus eu, euismod tristique ligula. Etiam vitae porta odio. Curabitur a magna id nulla accumsan gravida vel vitae tellus. Maecenas nisl odio, imperdiet non ipsum nec, faucibus porta nulla. Morbi metus eros, ultricies id mauris eu, vehicula cursus ante. Donec in urna blandit, egestas sem lobortis, scelerisque risus. Sed ornare ex felis, sit amet congue sapien tempor id. Vestibulum a orci nec magna maximus hendrerit a non augue."),this.state.modalOpen&&l.a.createElement(m.a,{open:this.state.modalOpen}))}}]),t}(o.Component),f=c.b(n,r)(p);t.default=f;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"mapStateToProps","/Users/dobyeongsu/projects/rr4-test/src/routes/page4/index.js"),__REACT_HOT_LOADER__.register(r,"mapDispatchToProps","/Users/dobyeongsu/projects/rr4-test/src/routes/page4/index.js"),__REACT_HOT_LOADER__.register(p,"Page3","/Users/dobyeongsu/projects/rr4-test/src/routes/page4/index.js"),__REACT_HOT_LOADER__.register(f,"default","/Users/dobyeongsu/projects/rr4-test/src/routes/page4/index.js"))}()},"./routes/page4/Container/Modal/index.js":function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=i("../node_modules/react/react.js"),r=i.n(n),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),l=function(e){function t(e){s(this,t);var i=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.handleScroll=i.handleScroll.bind(i),i}return a(t,e),o(t,[{key:"handleScroll",value:function(e,t){var i=$(e.target);if(i.hasClass("overlay")&&e.preventDefault(),i.hasClass("overlay-content")){var s=i.scrollTop(),u=i.height(),a=s,n=i[0].scrollHeight-(s+u),r=n<2,o=a<1;r&&console.log("bttom"),o&&console.log("Top")}}},{key:"componentDidMount",value:function(){this.refs.overlay1.addEventListener("scroll",this.handleScroll,!1),this.refs.overlay1.addEventListener("wheel",this.handleScroll,!1)}},{key:"componentWillUnmount",value:function(){this.refs.overlay1.removeEventListener("scroll",this.handleScroll,!1),this.refs.overlay1.removeEventListener("wheel",this.handleScroll,!1)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"overlay",ref:"overlay1",style:{position:"fixed",top:0,bottom:0,right:0,left:0,background:"rgba(0, 0, 0, 0.8)"},onScroll:this.handleScroll},r.a.createElement("div",{className:"overlay-content",ref:"content1",style:{width:500,overflowY:"scroll",background:"#fff",top:"10%",bottom:"10%",left:"20%",right:"20%",position:"absolute"}},"Overlay-content Overlay-content",r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec ultricies enim. Cras sollicitudin ipsum accumsan dapibus ornare. Donec tincidunt lacus ultrices, hendrerit nisi eu, hendrerit massa. Nulla vitae urna at dui rhoncus euismod in et neque. Vestibulum malesuada finibus bibendum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Mauris nec odio quis risus laoreet tincidunt nec sed lectus. In sit amet turpis tincidunt, rhoncus nibh at, sagittis turpis. Cras laoreet aliquet nibh, vitae vestibulum justo pulvinar non. In egestas mi nec ultrices consectetur. Proin pellentesque massa at nunc efficitur dictum. Nunc non mauris volutpat magna sollicitudin facilisis eu a neque. Vestibulum gravida ultrices erat et imperdiet. Nunc nec nibh convallis, tristique erat eget, rhoncus arcu."),r.a.createElement("p",null,"Vestibulum vehicula dignissim rhoncus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla non nisl bibendum, tincidunt nunc ac, vehicula lorem. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin non efficitur lacus, ut auctor neque. Maecenas vel risus sed justo cursus auctor eget vulputate ex. Etiam non tincidunt eros. Nunc imperdiet pretium lacus. Phasellus faucibus est at turpis viverra posuere. Suspendisse id interdum enim. Nulla dolor lectus, gravida ut neque sed, tristique venenatis neque. Maecenas laoreet euismod odio vitae finibus. Nulla a arcu ex. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nunc blandit ultricies imperdiet. Donec id leo imperdiet, consectetur ligula id, consequat dui."),r.a.createElement("p",null,"Suspendisse potenti. Donec ultrices euismod nibh ac condimentum. Cras sodales egestas enim eget congue. Vivamus non justo quis turpis laoreet luctus. Aliquam a lacinia nulla. Pellentesque congue suscipit erat sed lacinia. Praesent iaculis mi at velit malesuada auctor. Quisque in tortor vel est finibus sagittis. Ut nunc mauris, dignissim vitae felis eu, viverra semper sem. Phasellus tempus tortor diam, at pharetra odio hendrerit sit amet. Maecenas varius quam ut ipsum rhoncus, non molestie metus finibus. Integer quis sodales quam. Phasellus fringilla blandit lectus sit amet dignissim. Sed tristique commodo justo sit amet elementum. Praesent a rhoncus dolor."),r.a.createElement("p",null,"Nunc in nulla ipsum. Nulla venenatis, nulla at efficitur molestie, ligula ex ullamcorper urna, id imperdiet dolor sapien nec arcu. Aenean id mattis libero, ac consequat augue. Mauris rutrum tortor velit, sit amet porttitor nulla maximus in. Pellentesque in nisl tellus. Maecenas sed velit sit amet augue luctus rhoncus vitae a est. Maecenas sed diam vestibulum, tincidunt dui non, mattis magna. Curabitur at nulla id augue dapibus volutpat a eu neque. Curabitur laoreet vulputate dolor non accumsan. Pellentesque accumsan ipsum nisi, in tincidunt metus iaculis vitae. Mauris suscipit elementum nisl vitae efficitur. Suspendisse faucibus libero diam, et placerat purus auctor sit amet. Donec vitae libero non ipsum condimentum rutrum ut sit amet metus."),r.a.createElement("p",null,"Mauris non efficitur metus. Suspendisse in finibus lacus. Sed libero ipsum, feugiat ut varius sed, mollis sed est. Morbi massa odio, iaculis id lacinia ultrices, molestie nec nunc. Pellentesque porttitor ante vel lacus vehicula, vitae ullamcorper quam posuere. Vestibulum eget iaculis arcu. In pretium pretium tempor. Cras libero mauris, varius eget neque vitae, congue rutrum risus. Quisque odio nisl, placerat vitae molestie nec, eleifend id nisl. In volutpat, eros eu feugiat placerat, diam dolor sodales lacus, sed semper velit arcu at turpis. Nullam varius, massa eget laoreet elementum, dolor sapien aliquam elit, ultricies luctus nulla arcu mattis mauris. Aliquam pretium eros ut ullamcorper blandit. Ut feugiat diam vel justo vulputate, quis vestibulum metus tincidunt. Fusce arcu lacus, volutpat eget nunc a, vehicula tristique magna."))),r.a.createElement("div",{style:{height:"100%",overflow:"auto"}}))}}]),t}(n.Component);l.propTypes={},l.defaultProps={};var c=l;t.a=c;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"Modal","/Users/dobyeongsu/projects/rr4-test/src/routes/page4/Container/Modal/index.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/dobyeongsu/projects/rr4-test/src/routes/page4/Container/Modal/index.js"))}()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMC5idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vcm91dGVzL3BhZ2U0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3JvdXRlcy9wYWdlNC9Db250YWluZXIvTW9kYWwvaW5kZXguanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi9yb3V0ZXMvcGFnZTQvaW5kZXguanMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJtYXBTdGF0ZVRvUHJvcHMiLCJzdGF0ZSIsIm1hcERpc3BhdGNoVG9Qcm9wcyIsImRpc3BhdGNoIiwiaW5jcmVtZW50IiwiYW1vdW50IiwidHlwZSIsImRlZmluZVByb3BlcnR5IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0IiwibiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9yZWR1eF9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19Db250YWluZXJfTW9kYWxfXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiUGFnZTMiLCJfQ29tcG9uZW50IiwidGhpcyIsIl90aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJtb2RhbE9wZW4iLCJvcGVuTW9kYWwiLCJiaW5kIiwic2V0U3RhdGUiLCJhIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwid2lkdGgiLCJvbkNsaWNrIiwib3BlbiIsIl9kZWZhdWx0IiwiX19SRUFDVF9IT1RfTE9BREVSX18iLCJyZWdpc3RlciIsIi4vcm91dGVzL3BhZ2U0L0NvbnRhaW5lci9Nb2RhbC9pbmRleC5qcyIsIk1vZGFsIiwiaGFuZGxlU2Nyb2xsIiwiZSIsInZhbHVlcyIsIiR0YXJnZXQiLCIkIiwiaGFzQ2xhc3MiLCJwcmV2ZW50RGVmYXVsdCIsInNjcm9sbFRvcCIsImhlaWdodCIsInRvcEdhcCIsImJvdHRvbUdhcCIsInNjcm9sbEhlaWdodCIsImlzQm90dG9tIiwiaXNUb3AiLCJjb25zb2xlIiwibG9nIiwicmVmcyIsIm92ZXJsYXkxIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbGFzc05hbWUiLCJyZWYiLCJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwibGVmdCIsImJhY2tncm91bmQiLCJvblNjcm9sbCIsIm92ZXJmbG93WSIsIm92ZXJmbG93IiwicHJvcFR5cGVzIiwiZGVmYXVsdFByb3BzIl0sIm1hcHBpbmdzIjoiQUFBQUEsY0FBYyxJQUVSQyxvRUFDQSxTQUFVQyxFQUFRQyxFQUFxQkMsR0FFN0MsWUFRQSxTQUFTQyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTUMsR0FBUSxJQUFLRCxFQUFRLEtBQU0sSUFBSUUsZ0JBQWUsNERBQWdFLFFBQU9ELEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJELEVBQVBDLEVBRWxPLFFBQVNFLEdBQVVD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OUNDLE1BQU8sSUFBS3FDLFVBQVcsU0FBVUYsV0FBWSxPQUM3Q0osSUFBSyxNQUFPQyxPQUFRLE1BQU9FLEtBQU0sTUFBT0QsTUFBTyxNQUFPSCxTQUFVLGFBRmxFLGtDQVFFeEQsRUFBQXVCLEVBQUFDLGNBQUEsbTFCQUNBeEIsRUFBQXVCLEVBQUFDLGNBQUEsa3hCQUNBeEIsRUFBQXVCLEVBQUFDLGNBQUEscXFCQUNBeEIsRUFBQXVCLEVBQUFDLGNBQUEsNHZCQUNBeEIsRUFBQXVCLEVBQUFDLGNBQUEsMDFCQUtKeEIsRUFBQXVCLEVBQUFDLGNBQUEsT0FBS0MsT0FBUWlCLE9BQVEsT0FBUXNCLFNBQVUsZUYwS3RDL0IsR0VoUFdsQyxFQUFBLFVBNEVwQmtDLEdBQU1nQyxhQUNOaEMsRUFBTWlDLGVGeUtOLElBQUlyQyxHRXZLV0ksQ0FBZmpFLEdBQUEsS0YyS1ksV0FDMEIsbUJBQXpCOEQsd0JBSVhBLHFCQUFxQkMsU0UvUGpCRSxFRitQaUMsUUFBUyxpRkFFOUNILHFCQUFxQkMsU0FBU0YsRUFBVSxVQUFXIiwiZmlsZSI6IjAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSx7XG5cbi8qKiovIFwiLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi9yb3V0ZXMvcGFnZTQvaW5kZXguanNcIjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi4vbm9kZV9tb2R1bGVzL3JlYWN0L3JlYWN0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9yZWR1eF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4uL25vZGVfbW9kdWxlcy9yZWFjdC1yZWR1eC9lcy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX0NvbnRhaW5lcl9Nb2RhbF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vcm91dGVzL3BhZ2U0L0NvbnRhaW5lci9Nb2RhbC9pbmRleC5qc1wiKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuXG5cblxuXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHsgc3RhdGU6IHN0YXRlIH07XG59XG5cbmZ1bmN0aW9uIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIGluY3JlbWVudDogZnVuY3Rpb24gaW5jcmVtZW50KGFtb3VudCkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHsgdHlwZTogJ0lOQ1JFTUVOVCcgfSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgUGFnZTMgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUGFnZTMsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBhZ2UzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlMyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUGFnZTMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQYWdlMykpLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBtb2RhbE9wZW46IGZhbHNlXG4gICAgfTtcblxuICAgIF90aGlzLm9wZW5Nb2RhbCA9IF90aGlzLm9wZW5Nb2RhbC5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGFnZTMsIFt7XG4gICAga2V5OiAnb3Blbk1vZGFsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbk1vZGFsKCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsT3BlbjogIXRoaXMuc3RhdGUubW9kYWxPcGVuIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IDEwMCB9IH0sXG4gICAgICAgICdQYWdlIDQnLFxuICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMub3Blbk1vZGFsIH0sXG4gICAgICAgICAgJ2NsaWNrJ1xuICAgICAgICApLFxuICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAncCcsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gTWF1cmlzIHRlbXB1cywgYXVndWUgc2VkIHVsdHJpY2VzIGRpY3R1bSwgbG9yZW0ganVzdG8gYWxpcXVhbSBtaSwgc2l0IGFtZXQgbHVjdHVzIGRpYW0gYXJjdSBpbnRlcmR1bSBmZWxpcy4gSW50ZWdlciBzZW0gbmlzaSwgZWZmaWNpdHVyIHZlbCBlcm9zIHZpdGFlLCB2ZXN0aWJ1bHVtIGVsZWlmZW5kIG5pYmguIEludGVnZXIgdmVzdGlidWx1bSBlZ2VzdGFzIHRvcnRvciwgdXQgYmxhbmRpdCB2ZWxpdCBkaWN0dW0gaW4uIE1hZWNlbmFzIHF1aXMgbmlzaSBtZXR1cy4gSW50ZWdlciBoZW5kcmVyaXQsIGV4IHZpdGFlIGRpZ25pc3NpbSBiaWJlbmR1bSwgcHVydXMgbWF1cmlzIHBvcnR0aXRvciBhbnRlLCBlZ2V0IGVsZWlmZW5kIGVyYXQgdGVsbHVzIG5lYyBsZWN0dXMuIFNlZCBhdCBuZXF1ZSBjdXJzdXMsIHZhcml1cyBpcHN1bSBhYywgdmVzdGlidWx1bSBsaWd1bGEuIEN1cmFiaXR1ciB1bGxhbWNvcnBlciBjb25zZWN0ZXR1ciBkaWduaXNzaW0uIFByb2luIHF1aXMgc2VtcGVyIGZlbGlzLiBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LidcbiAgICAgICAgKSxcbiAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3AnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ01hZWNlbmFzIHF1aXMgaGVuZHJlcml0IG5pYmguIEN1cmFiaXR1ciBuZXF1ZSBmZWxpcywgbWF4aW11cyBldCBpYWN1bGlzIGV0LCBkaWN0dW0gaWQgbGFjdXMuIFBlbGxlbnRlc3F1ZSBoYWJpdGFudCBtb3JiaSB0cmlzdGlxdWUgc2VuZWN0dXMgZXQgbmV0dXMgZXQgbWFsZXN1YWRhIGZhbWVzIGFjIHR1cnBpcyBlZ2VzdGFzLiBWZXN0aWJ1bHVtIHV0IHNhZ2l0dGlzIHNlbS4gTWF1cmlzIHZpdGFlIHBvcnRhIHNlbS4gTW9yYmkgYSBlZ2VzdGFzIGR1aS4gRnVzY2UgbmVjIG5pYmggc2FnaXR0aXMgbWFnbmEgYmliZW5kdW0gY29uZ3VlLiBBbGlxdWFtIGNvbnNlcXVhdCByaXN1cyBldCBlc3QgYXVjdG9yLCBpZCBwZWxsZW50ZXNxdWUgZG9sb3IgYWNjdW1zYW4uIFZlc3RpYnVsdW0gcHVydXMgbG9yZW0sIGVsZWlmZW5kIGluIG1hc3NhIGEsIHBsYWNlcmF0IHRpbmNpZHVudCBudWxsYS4gRG9uZWMgY29udmFsbGlzLCBqdXN0byB1dCBmZXVnaWF0IHJob25jdXMsIG5pc2kgZXJhdCBwcmV0aXVtIG1pLCBhYyByaG9uY3VzIGZlbGlzIG1hZ25hIGVnZXQgbmlzbC4nXG4gICAgICAgICksXG4gICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdwJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgICdNYWVjZW5hcyB0cmlzdGlxdWUgZmVsaXMgZXUgbnVuYyBtb2xsaXMsIG5vbiBzdXNjaXBpdCBtZXR1cyBlbGVpZmVuZC4gU2VkIGN1cnN1cyBsZW8gZWdldCB2ZXN0aWJ1bHVtIHByZXRpdW0uIFBlbGxlbnRlc3F1ZSBtYWduYSBsaWJlcm8sIHRpbmNpZHVudCB2aXRhZSBsZW8gYXQsIG1hdHRpcyBjdXJzdXMgdHVycGlzLiBQcm9pbiBwb3N1ZXJlIGVsaXQgbmVjIGNvbnNlY3RldHVyIGFjY3Vtc2FuLiBJbiBleCBlc3QsIHBlbGxlbnRlc3F1ZSBldSBjb25zZXF1YXQgYSwgY29uc2VjdGV0dXIgaWQgaXBzdW0uIFByb2luIHF1aXMgbmlzaSBldSBtYWduYSB2YXJpdXMgdGluY2lkdW50LiBVdCBvZGlvIG1hdXJpcywgaW50ZXJkdW0gYWMgc29kYWxlcyBldSwgY3Vyc3VzIGV0IHB1cnVzLiBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LidcbiAgICAgICAgKSxcbiAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3AnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ01vcmJpIG5lYyB0ZW1wdXMgZXN0LiBOdWxsYSBwcmV0aXVtIGV4IG1hdXJpcywgdml0YWUgc2VtcGVyIG9yY2kgbWF0dGlzIGluLiBQaGFzZWxsdXMgY3Vyc3VzIHNhZ2l0dGlzIHVybmEgYXQgbWFsZXN1YWRhLiBWZXN0aWJ1bHVtIHNlZCBmaW5pYnVzIHNhcGllbi4gVmVzdGlidWx1bSBtb2xsaXMgbGliZXJvIGRvbG9yLCBuZWMgcG9ydGEgYXJjdSBzb2RhbGVzIHZlbC4gUHJhZXNlbnQgdml0YWUgdWx0cmljZXMgbGVjdHVzLCBxdWlzIG1vbGVzdGllIGxvcmVtLiBJbiBzaXQgYW1ldCB2ZXN0aWJ1bHVtIG5pYmguIEN1cmFiaXR1ciBzaXQgYW1ldCBuaXNpIGVnZXQgdHVycGlzIHBsYWNlcmF0IG1vbGVzdGllLiBWZXN0aWJ1bHVtIGVnZXQgYmliZW5kdW0gZXJvcywgc2VkIGxhY2luaWEgYXVndWUuIE1hZWNlbmFzIGVsZWlmZW5kIG1pIG9kaW8sIHNlZCBncmF2aWRhIG1hdXJpcyBtYWxlc3VhZGEgdmVsLidcbiAgICAgICAgKSxcbiAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3AnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ0RvbmVjIHF1aXMgZXJvcyBhdCBhbnRlIHBsYWNlcmF0IHRpbmNpZHVudCBldCBhdCBqdXN0by4gUXVpc3F1ZSB2ZWwgdmVuZW5hdGlzIGxvcmVtLiBTdXNwZW5kaXNzZSBlcm9zIGRpYW0sIHZ1bHB1dGF0ZSBzZWQgbWF1cmlzIHZlbCwgb3JuYXJlIGdyYXZpZGEgbGVvLiBTZWQgcGVsbGVudGVzcXVlIGx1Y3R1cyBsYW9yZWV0LiBBZW5lYW4gZXUgYW50ZSBzaXQgYW1ldCBxdWFtIGRpZ25pc3NpbSBzb2RhbGVzIGVnZXQgdXQgb2Rpby4gU3VzcGVuZGlzc2UgdmVsIG5pc2kgYWxpcXVldCwgdnVscHV0YXRlIGp1c3RvIHV0LCB2ZW5lbmF0aXMgc2FwaWVuLiBDdXJhYml0dXIgbGVjdHVzIGRvbG9yLCBmZXJtZW50dW0gc2l0IGFtZXQgY29uZ3VlIGVnZXQsIHZpdmVycmEgYSBhbnRlLiBOdWxsYSBtYWduYSBlbmltLCBkaWduaXNzaW0gbm9uIHB1cnVzIGV1LCBldWlzbW9kIHRyaXN0aXF1ZSBsaWd1bGEuIEV0aWFtIHZpdGFlIHBvcnRhIG9kaW8uIEN1cmFiaXR1ciBhIG1hZ25hIGlkIG51bGxhIGFjY3Vtc2FuIGdyYXZpZGEgdmVsIHZpdGFlIHRlbGx1cy4gTWFlY2VuYXMgbmlzbCBvZGlvLCBpbXBlcmRpZXQgbm9uIGlwc3VtIG5lYywgZmF1Y2lidXMgcG9ydGEgbnVsbGEuIE1vcmJpIG1ldHVzIGVyb3MsIHVsdHJpY2llcyBpZCBtYXVyaXMgZXUsIHZlaGljdWxhIGN1cnN1cyBhbnRlLiBEb25lYyBpbiB1cm5hIGJsYW5kaXQsIGVnZXN0YXMgc2VtIGxvYm9ydGlzLCBzY2VsZXJpc3F1ZSByaXN1cy4gU2VkIG9ybmFyZSBleCBmZWxpcywgc2l0IGFtZXQgY29uZ3VlIHNhcGllbiB0ZW1wb3IgaWQuIFZlc3RpYnVsdW0gYSBvcmNpIG5lYyBtYWduYSBtYXhpbXVzIGhlbmRyZXJpdCBhIG5vbiBhdWd1ZS4nXG4gICAgICAgICksXG4gICAgICAgIHRoaXMuc3RhdGUubW9kYWxPcGVuICYmIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fQ29udGFpbmVyX01vZGFsX19bXCJhXCIgLyogZGVmYXVsdCAqL10sIHsgb3BlbjogdGhpcy5zdGF0ZS5tb2RhbE9wZW4gfSlcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBhZ2UzO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIkNvbXBvbmVudFwiXSk7XG5cbnZhciBfZGVmYXVsdCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9yZWR1eF9fW1wiYlwiIC8qIGNvbm5lY3QgKi9dKG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShQYWdlMyk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoX2RlZmF1bHQpO1xuO1xuXG52YXIgX3RlbXAgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgX19SRUFDVF9IT1RfTE9BREVSX18gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgX19SRUFDVF9IT1RfTE9BREVSX18ucmVnaXN0ZXIobWFwU3RhdGVUb1Byb3BzLCAnbWFwU3RhdGVUb1Byb3BzJywgJy9Vc2Vycy9kb2J5ZW9uZ3N1L3Byb2plY3RzL3JyNC10ZXN0L3NyYy9yb3V0ZXMvcGFnZTQvaW5kZXguanMnKTtcblxuICBfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihtYXBEaXNwYXRjaFRvUHJvcHMsICdtYXBEaXNwYXRjaFRvUHJvcHMnLCAnL1VzZXJzL2RvYnllb25nc3UvcHJvamVjdHMvcnI0LXRlc3Qvc3JjL3JvdXRlcy9wYWdlNC9pbmRleC5qcycpO1xuXG4gIF9fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKFBhZ2UzLCAnUGFnZTMnLCAnL1VzZXJzL2RvYnllb25nc3UvcHJvamVjdHMvcnI0LXRlc3Qvc3JjL3JvdXRlcy9wYWdlNC9pbmRleC5qcycpO1xuXG4gIF9fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKF9kZWZhdWx0LCAnZGVmYXVsdCcsICcvVXNlcnMvZG9ieWVvbmdzdS9wcm9qZWN0cy9ycjQtdGVzdC9zcmMvcm91dGVzL3BhZ2U0L2luZGV4LmpzJyk7XG59KCk7XG5cbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yb3V0ZXMvcGFnZTQvQ29udGFpbmVyL01vZGFsL2luZGV4LmpzXCI6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4uL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuXG5cbnZhciBNb2RhbCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhNb2RhbCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTW9kYWwocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTW9kYWwpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9kYWwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5oYW5kbGVTY3JvbGwgPSBfdGhpcy5oYW5kbGVTY3JvbGwuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1vZGFsLCBbe1xuICAgIGtleTogJ2hhbmRsZVNjcm9sbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbChlLCB2YWx1ZXMpIHtcbiAgICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG4gICAgICBpZiAoJHRhcmdldC5oYXNDbGFzcygnb3ZlcmxheScpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCR0YXJnZXQuaGFzQ2xhc3MoJ292ZXJsYXktY29udGVudCcpKSB7XG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSAkdGFyZ2V0LnNjcm9sbFRvcCgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gJHRhcmdldC5oZWlnaHQoKTtcblxuICAgICAgICB2YXIgdG9wR2FwID0gc2Nyb2xsVG9wO1xuICAgICAgICB2YXIgYm90dG9tR2FwID0gJHRhcmdldFswXS5zY3JvbGxIZWlnaHQgLSAoc2Nyb2xsVG9wICsgaGVpZ2h0KTtcbiAgICAgICAgdmFyIGlzQm90dG9tID0gYm90dG9tR2FwIDwgMjtcbiAgICAgICAgdmFyIGlzVG9wID0gdG9wR2FwIDwgMTtcblxuICAgICAgICBpZiAoaXNCb3R0b20pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnYnR0b20nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1RvcCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdUb3AnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnJlZnMub3ZlcmxheTEuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGwsIGZhbHNlKTtcbiAgICAgIHRoaXMucmVmcy5vdmVybGF5MS5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuaGFuZGxlU2Nyb2xsLCBmYWxzZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMucmVmcy5vdmVybGF5MS5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgZmFsc2UpO1xuICAgICAgdGhpcy5yZWZzLm92ZXJsYXkxLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5oYW5kbGVTY3JvbGwsIGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBudWxsLFxuICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogJ292ZXJsYXknLCByZWY6ICdvdmVybGF5MScsIHN0eWxlOiB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuOCknXG4gICAgICAgICAgICB9LCBvblNjcm9sbDogdGhpcy5oYW5kbGVTY3JvbGwgfSxcbiAgICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdvdmVybGF5LWNvbnRlbnQnLCByZWY6ICdjb250ZW50MScsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDUwMCwgb3ZlcmZsb3dZOiAnc2Nyb2xsJywgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICAgICAgICAgIHRvcDogJzEwJScsIGJvdHRvbTogJzEwJScsIGxlZnQ6ICcyMCUnLCByaWdodDogJzIwJScsIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICdPdmVybGF5LWNvbnRlbnQgT3ZlcmxheS1jb250ZW50JyxcbiAgICAgICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBOdWxsYSBuZWMgdWx0cmljaWVzIGVuaW0uIENyYXMgc29sbGljaXR1ZGluIGlwc3VtIGFjY3Vtc2FuIGRhcGlidXMgb3JuYXJlLiBEb25lYyB0aW5jaWR1bnQgbGFjdXMgdWx0cmljZXMsIGhlbmRyZXJpdCBuaXNpIGV1LCBoZW5kcmVyaXQgbWFzc2EuIE51bGxhIHZpdGFlIHVybmEgYXQgZHVpIHJob25jdXMgZXVpc21vZCBpbiBldCBuZXF1ZS4gVmVzdGlidWx1bSBtYWxlc3VhZGEgZmluaWJ1cyBiaWJlbmR1bS4gUGVsbGVudGVzcXVlIGhhYml0YW50IG1vcmJpIHRyaXN0aXF1ZSBzZW5lY3R1cyBldCBuZXR1cyBldCBtYWxlc3VhZGEgZmFtZXMgYWMgdHVycGlzIGVnZXN0YXMuIE1hdXJpcyBuZWMgb2RpbyBxdWlzIHJpc3VzIGxhb3JlZXQgdGluY2lkdW50IG5lYyBzZWQgbGVjdHVzLiBJbiBzaXQgYW1ldCB0dXJwaXMgdGluY2lkdW50LCByaG9uY3VzIG5pYmggYXQsIHNhZ2l0dGlzIHR1cnBpcy4gQ3JhcyBsYW9yZWV0IGFsaXF1ZXQgbmliaCwgdml0YWUgdmVzdGlidWx1bSBqdXN0byBwdWx2aW5hciBub24uIEluIGVnZXN0YXMgbWkgbmVjIHVsdHJpY2VzIGNvbnNlY3RldHVyLiBQcm9pbiBwZWxsZW50ZXNxdWUgbWFzc2EgYXQgbnVuYyBlZmZpY2l0dXIgZGljdHVtLiBOdW5jIG5vbiBtYXVyaXMgdm9sdXRwYXQgbWFnbmEgc29sbGljaXR1ZGluIGZhY2lsaXNpcyBldSBhIG5lcXVlLiBWZXN0aWJ1bHVtIGdyYXZpZGEgdWx0cmljZXMgZXJhdCBldCBpbXBlcmRpZXQuIE51bmMgbmVjIG5pYmggY29udmFsbGlzLCB0cmlzdGlxdWUgZXJhdCBlZ2V0LCByaG9uY3VzIGFyY3UuJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fX2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICdWZXN0aWJ1bHVtIHZlaGljdWxhIGRpZ25pc3NpbSByaG9uY3VzLiBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBOdWxsYSBub24gbmlzbCBiaWJlbmR1bSwgdGluY2lkdW50IG51bmMgYWMsIHZlaGljdWxhIGxvcmVtLiBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBQcm9pbiBub24gZWZmaWNpdHVyIGxhY3VzLCB1dCBhdWN0b3IgbmVxdWUuIE1hZWNlbmFzIHZlbCByaXN1cyBzZWQganVzdG8gY3Vyc3VzIGF1Y3RvciBlZ2V0IHZ1bHB1dGF0ZSBleC4gRXRpYW0gbm9uIHRpbmNpZHVudCBlcm9zLiBOdW5jIGltcGVyZGlldCBwcmV0aXVtIGxhY3VzLiBQaGFzZWxsdXMgZmF1Y2lidXMgZXN0IGF0IHR1cnBpcyB2aXZlcnJhIHBvc3VlcmUuIFN1c3BlbmRpc3NlIGlkIGludGVyZHVtIGVuaW0uIE51bGxhIGRvbG9yIGxlY3R1cywgZ3JhdmlkYSB1dCBuZXF1ZSBzZWQsIHRyaXN0aXF1ZSB2ZW5lbmF0aXMgbmVxdWUuIE1hZWNlbmFzIGxhb3JlZXQgZXVpc21vZCBvZGlvIHZpdGFlIGZpbmlidXMuIE51bGxhIGEgYXJjdSBleC4gQ2xhc3MgYXB0ZW50IHRhY2l0aSBzb2Npb3NxdSBhZCBsaXRvcmEgdG9ycXVlbnQgcGVyIGNvbnViaWEgbm9zdHJhLCBwZXIgaW5jZXB0b3MgaGltZW5hZW9zLiBOdW5jIGJsYW5kaXQgdWx0cmljaWVzIGltcGVyZGlldC4gRG9uZWMgaWQgbGVvIGltcGVyZGlldCwgY29uc2VjdGV0dXIgbGlndWxhIGlkLCBjb25zZXF1YXQgZHVpLidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAnU3VzcGVuZGlzc2UgcG90ZW50aS4gRG9uZWMgdWx0cmljZXMgZXVpc21vZCBuaWJoIGFjIGNvbmRpbWVudHVtLiBDcmFzIHNvZGFsZXMgZWdlc3RhcyBlbmltIGVnZXQgY29uZ3VlLiBWaXZhbXVzIG5vbiBqdXN0byBxdWlzIHR1cnBpcyBsYW9yZWV0IGx1Y3R1cy4gQWxpcXVhbSBhIGxhY2luaWEgbnVsbGEuIFBlbGxlbnRlc3F1ZSBjb25ndWUgc3VzY2lwaXQgZXJhdCBzZWQgbGFjaW5pYS4gUHJhZXNlbnQgaWFjdWxpcyBtaSBhdCB2ZWxpdCBtYWxlc3VhZGEgYXVjdG9yLiBRdWlzcXVlIGluIHRvcnRvciB2ZWwgZXN0IGZpbmlidXMgc2FnaXR0aXMuIFV0IG51bmMgbWF1cmlzLCBkaWduaXNzaW0gdml0YWUgZmVsaXMgZXUsIHZpdmVycmEgc2VtcGVyIHNlbS4gUGhhc2VsbHVzIHRlbXB1cyB0b3J0b3IgZGlhbSwgYXQgcGhhcmV0cmEgb2RpbyBoZW5kcmVyaXQgc2l0IGFtZXQuIE1hZWNlbmFzIHZhcml1cyBxdWFtIHV0IGlwc3VtIHJob25jdXMsIG5vbiBtb2xlc3RpZSBtZXR1cyBmaW5pYnVzLiBJbnRlZ2VyIHF1aXMgc29kYWxlcyBxdWFtLiBQaGFzZWxsdXMgZnJpbmdpbGxhIGJsYW5kaXQgbGVjdHVzIHNpdCBhbWV0IGRpZ25pc3NpbS4gU2VkIHRyaXN0aXF1ZSBjb21tb2RvIGp1c3RvIHNpdCBhbWV0IGVsZW1lbnR1bS4gUHJhZXNlbnQgYSByaG9uY3VzIGRvbG9yLidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAnTnVuYyBpbiBudWxsYSBpcHN1bS4gTnVsbGEgdmVuZW5hdGlzLCBudWxsYSBhdCBlZmZpY2l0dXIgbW9sZXN0aWUsIGxpZ3VsYSBleCB1bGxhbWNvcnBlciB1cm5hLCBpZCBpbXBlcmRpZXQgZG9sb3Igc2FwaWVuIG5lYyBhcmN1LiBBZW5lYW4gaWQgbWF0dGlzIGxpYmVybywgYWMgY29uc2VxdWF0IGF1Z3VlLiBNYXVyaXMgcnV0cnVtIHRvcnRvciB2ZWxpdCwgc2l0IGFtZXQgcG9ydHRpdG9yIG51bGxhIG1heGltdXMgaW4uIFBlbGxlbnRlc3F1ZSBpbiBuaXNsIHRlbGx1cy4gTWFlY2VuYXMgc2VkIHZlbGl0IHNpdCBhbWV0IGF1Z3VlIGx1Y3R1cyByaG9uY3VzIHZpdGFlIGEgZXN0LiBNYWVjZW5hcyBzZWQgZGlhbSB2ZXN0aWJ1bHVtLCB0aW5jaWR1bnQgZHVpIG5vbiwgbWF0dGlzIG1hZ25hLiBDdXJhYml0dXIgYXQgbnVsbGEgaWQgYXVndWUgZGFwaWJ1cyB2b2x1dHBhdCBhIGV1IG5lcXVlLiBDdXJhYml0dXIgbGFvcmVldCB2dWxwdXRhdGUgZG9sb3Igbm9uIGFjY3Vtc2FuLiBQZWxsZW50ZXNxdWUgYWNjdW1zYW4gaXBzdW0gbmlzaSwgaW4gdGluY2lkdW50IG1ldHVzIGlhY3VsaXMgdml0YWUuIE1hdXJpcyBzdXNjaXBpdCBlbGVtZW50dW0gbmlzbCB2aXRhZSBlZmZpY2l0dXIuIFN1c3BlbmRpc3NlIGZhdWNpYnVzIGxpYmVybyBkaWFtLCBldCBwbGFjZXJhdCBwdXJ1cyBhdWN0b3Igc2l0IGFtZXQuIERvbmVjIHZpdGFlIGxpYmVybyBub24gaXBzdW0gY29uZGltZW50dW0gcnV0cnVtIHV0IHNpdCBhbWV0IG1ldHVzLidcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAnTWF1cmlzIG5vbiBlZmZpY2l0dXIgbWV0dXMuIFN1c3BlbmRpc3NlIGluIGZpbmlidXMgbGFjdXMuIFNlZCBsaWJlcm8gaXBzdW0sIGZldWdpYXQgdXQgdmFyaXVzIHNlZCwgbW9sbGlzIHNlZCBlc3QuIE1vcmJpIG1hc3NhIG9kaW8sIGlhY3VsaXMgaWQgbGFjaW5pYSB1bHRyaWNlcywgbW9sZXN0aWUgbmVjIG51bmMuIFBlbGxlbnRlc3F1ZSBwb3J0dGl0b3IgYW50ZSB2ZWwgbGFjdXMgdmVoaWN1bGEsIHZpdGFlIHVsbGFtY29ycGVyIHF1YW0gcG9zdWVyZS4gVmVzdGlidWx1bSBlZ2V0IGlhY3VsaXMgYXJjdS4gSW4gcHJldGl1bSBwcmV0aXVtIHRlbXBvci4gQ3JhcyBsaWJlcm8gbWF1cmlzLCB2YXJpdXMgZWdldCBuZXF1ZSB2aXRhZSwgY29uZ3VlIHJ1dHJ1bSByaXN1cy4gUXVpc3F1ZSBvZGlvIG5pc2wsIHBsYWNlcmF0IHZpdGFlIG1vbGVzdGllIG5lYywgZWxlaWZlbmQgaWQgbmlzbC4gSW4gdm9sdXRwYXQsIGVyb3MgZXUgZmV1Z2lhdCBwbGFjZXJhdCwgZGlhbSBkb2xvciBzb2RhbGVzIGxhY3VzLCBzZWQgc2VtcGVyIHZlbGl0IGFyY3UgYXQgdHVycGlzLiBOdWxsYW0gdmFyaXVzLCBtYXNzYSBlZ2V0IGxhb3JlZXQgZWxlbWVudHVtLCBkb2xvciBzYXBpZW4gYWxpcXVhbSBlbGl0LCB1bHRyaWNpZXMgbHVjdHVzIG51bGxhIGFyY3UgbWF0dGlzIG1hdXJpcy4gQWxpcXVhbSBwcmV0aXVtIGVyb3MgdXQgdWxsYW1jb3JwZXIgYmxhbmRpdC4gVXQgZmV1Z2lhdCBkaWFtIHZlbCBqdXN0byB2dWxwdXRhdGUsIHF1aXMgdmVzdGlidWx1bSBtZXR1cyB0aW5jaWR1bnQuIEZ1c2NlIGFyY3UgbGFjdXMsIHZvbHV0cGF0IGVnZXQgbnVuYyBhLCB2ZWhpY3VsYSB0cmlzdGlxdWUgbWFnbmEuJ1xuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgc3R5bGU6IHsgaGVpZ2h0OiAnMTAwJScsIG92ZXJmbG93OiAnYXV0bycgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTW9kYWw7XG59KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiQ29tcG9uZW50XCJdKTtcblxuTW9kYWwucHJvcFR5cGVzID0ge307XG5Nb2RhbC5kZWZhdWx0UHJvcHMgPSB7fTtcblxudmFyIF9kZWZhdWx0ID0gTW9kYWw7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKF9kZWZhdWx0KTtcbjtcblxudmFyIF90ZW1wID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIF9fUkVBQ1RfSE9UX0xPQURFUl9fID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIF9fUkVBQ1RfSE9UX0xPQURFUl9fLnJlZ2lzdGVyKE1vZGFsLCAnTW9kYWwnLCAnL1VzZXJzL2RvYnllb25nc3UvcHJvamVjdHMvcnI0LXRlc3Qvc3JjL3JvdXRlcy9wYWdlNC9Db250YWluZXIvTW9kYWwvaW5kZXguanMnKTtcblxuICBfX1JFQUNUX0hPVF9MT0FERVJfXy5yZWdpc3RlcihfZGVmYXVsdCwgJ2RlZmF1bHQnLCAnL1VzZXJzL2RvYnllb25nc3UvcHJvamVjdHMvcnI0LXRlc3Qvc3JjL3JvdXRlcy9wYWdlNC9Db250YWluZXIvTW9kYWwvaW5kZXguanMnKTtcbn0oKTtcblxuO1xuXG4vKioqLyB9KVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gMC5idW5kbGUuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBNb2RhbCBmcm9tICcuL0NvbnRhaW5lci9Nb2RhbCc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4geyBzdGF0ZTogc3RhdGUgfVxufVxuXG5mdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBpbmNyZW1lbnQ6IGFtb3VudCA9PiBkaXNwYXRjaCh7IHR5cGU6ICdJTkNSRU1FTlQnIH0pLFxuICB9XG59XG5cblxuY2xhc3MgUGFnZTMgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG1vZGFsT3BlbjogZmFsc2VcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuTW9kYWwgPSB0aGlzLm9wZW5Nb2RhbC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3Blbk1vZGFsKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbE9wZW46ICF0aGlzLnN0YXRlLm1vZGFsT3BlbiB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e3dpZHRoOiAxMDB9fT5cbiAgICAgIFBhZ2UgNFxuXG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMub3Blbk1vZGFsfT5jbGljazwvYnV0dG9uPlxuXG4gICAgICA8cD5Mb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBNYXVyaXMgdGVtcHVzLCBhdWd1ZSBzZWQgdWx0cmljZXMgZGljdHVtLCBsb3JlbSBqdXN0byBhbGlxdWFtIG1pLCBzaXQgYW1ldCBsdWN0dXMgZGlhbSBhcmN1IGludGVyZHVtIGZlbGlzLiBJbnRlZ2VyIHNlbSBuaXNpLCBlZmZpY2l0dXIgdmVsIGVyb3Mgdml0YWUsIHZlc3RpYnVsdW0gZWxlaWZlbmQgbmliaC4gSW50ZWdlciB2ZXN0aWJ1bHVtIGVnZXN0YXMgdG9ydG9yLCB1dCBibGFuZGl0IHZlbGl0IGRpY3R1bSBpbi4gTWFlY2VuYXMgcXVpcyBuaXNpIG1ldHVzLiBJbnRlZ2VyIGhlbmRyZXJpdCwgZXggdml0YWUgZGlnbmlzc2ltIGJpYmVuZHVtLCBwdXJ1cyBtYXVyaXMgcG9ydHRpdG9yIGFudGUsIGVnZXQgZWxlaWZlbmQgZXJhdCB0ZWxsdXMgbmVjIGxlY3R1cy4gU2VkIGF0IG5lcXVlIGN1cnN1cywgdmFyaXVzIGlwc3VtIGFjLCB2ZXN0aWJ1bHVtIGxpZ3VsYS4gQ3VyYWJpdHVyIHVsbGFtY29ycGVyIGNvbnNlY3RldHVyIGRpZ25pc3NpbS4gUHJvaW4gcXVpcyBzZW1wZXIgZmVsaXMuIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuPC9wPlxuICAgICAgPHA+TWFlY2VuYXMgcXVpcyBoZW5kcmVyaXQgbmliaC4gQ3VyYWJpdHVyIG5lcXVlIGZlbGlzLCBtYXhpbXVzIGV0IGlhY3VsaXMgZXQsIGRpY3R1bSBpZCBsYWN1cy4gUGVsbGVudGVzcXVlIGhhYml0YW50IG1vcmJpIHRyaXN0aXF1ZSBzZW5lY3R1cyBldCBuZXR1cyBldCBtYWxlc3VhZGEgZmFtZXMgYWMgdHVycGlzIGVnZXN0YXMuIFZlc3RpYnVsdW0gdXQgc2FnaXR0aXMgc2VtLiBNYXVyaXMgdml0YWUgcG9ydGEgc2VtLiBNb3JiaSBhIGVnZXN0YXMgZHVpLiBGdXNjZSBuZWMgbmliaCBzYWdpdHRpcyBtYWduYSBiaWJlbmR1bSBjb25ndWUuIEFsaXF1YW0gY29uc2VxdWF0IHJpc3VzIGV0IGVzdCBhdWN0b3IsIGlkIHBlbGxlbnRlc3F1ZSBkb2xvciBhY2N1bXNhbi4gVmVzdGlidWx1bSBwdXJ1cyBsb3JlbSwgZWxlaWZlbmQgaW4gbWFzc2EgYSwgcGxhY2VyYXQgdGluY2lkdW50IG51bGxhLiBEb25lYyBjb252YWxsaXMsIGp1c3RvIHV0IGZldWdpYXQgcmhvbmN1cywgbmlzaSBlcmF0IHByZXRpdW0gbWksIGFjIHJob25jdXMgZmVsaXMgbWFnbmEgZWdldCBuaXNsLjwvcD5cbiAgICAgIDxwPk1hZWNlbmFzIHRyaXN0aXF1ZSBmZWxpcyBldSBudW5jIG1vbGxpcywgbm9uIHN1c2NpcGl0IG1ldHVzIGVsZWlmZW5kLiBTZWQgY3Vyc3VzIGxlbyBlZ2V0IHZlc3RpYnVsdW0gcHJldGl1bS4gUGVsbGVudGVzcXVlIG1hZ25hIGxpYmVybywgdGluY2lkdW50IHZpdGFlIGxlbyBhdCwgbWF0dGlzIGN1cnN1cyB0dXJwaXMuIFByb2luIHBvc3VlcmUgZWxpdCBuZWMgY29uc2VjdGV0dXIgYWNjdW1zYW4uIEluIGV4IGVzdCwgcGVsbGVudGVzcXVlIGV1IGNvbnNlcXVhdCBhLCBjb25zZWN0ZXR1ciBpZCBpcHN1bS4gUHJvaW4gcXVpcyBuaXNpIGV1IG1hZ25hIHZhcml1cyB0aW5jaWR1bnQuIFV0IG9kaW8gbWF1cmlzLCBpbnRlcmR1bSBhYyBzb2RhbGVzIGV1LCBjdXJzdXMgZXQgcHVydXMuIExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQuPC9wPlxuICAgICAgPHA+TW9yYmkgbmVjIHRlbXB1cyBlc3QuIE51bGxhIHByZXRpdW0gZXggbWF1cmlzLCB2aXRhZSBzZW1wZXIgb3JjaSBtYXR0aXMgaW4uIFBoYXNlbGx1cyBjdXJzdXMgc2FnaXR0aXMgdXJuYSBhdCBtYWxlc3VhZGEuIFZlc3RpYnVsdW0gc2VkIGZpbmlidXMgc2FwaWVuLiBWZXN0aWJ1bHVtIG1vbGxpcyBsaWJlcm8gZG9sb3IsIG5lYyBwb3J0YSBhcmN1IHNvZGFsZXMgdmVsLiBQcmFlc2VudCB2aXRhZSB1bHRyaWNlcyBsZWN0dXMsIHF1aXMgbW9sZXN0aWUgbG9yZW0uIEluIHNpdCBhbWV0IHZlc3RpYnVsdW0gbmliaC4gQ3VyYWJpdHVyIHNpdCBhbWV0IG5pc2kgZWdldCB0dXJwaXMgcGxhY2VyYXQgbW9sZXN0aWUuIFZlc3RpYnVsdW0gZWdldCBiaWJlbmR1bSBlcm9zLCBzZWQgbGFjaW5pYSBhdWd1ZS4gTWFlY2VuYXMgZWxlaWZlbmQgbWkgb2Rpbywgc2VkIGdyYXZpZGEgbWF1cmlzIG1hbGVzdWFkYSB2ZWwuPC9wPlxuICAgICAgPHA+RG9uZWMgcXVpcyBlcm9zIGF0IGFudGUgcGxhY2VyYXQgdGluY2lkdW50IGV0IGF0IGp1c3RvLiBRdWlzcXVlIHZlbCB2ZW5lbmF0aXMgbG9yZW0uIFN1c3BlbmRpc3NlIGVyb3MgZGlhbSwgdnVscHV0YXRlIHNlZCBtYXVyaXMgdmVsLCBvcm5hcmUgZ3JhdmlkYSBsZW8uIFNlZCBwZWxsZW50ZXNxdWUgbHVjdHVzIGxhb3JlZXQuIEFlbmVhbiBldSBhbnRlIHNpdCBhbWV0IHF1YW0gZGlnbmlzc2ltIHNvZGFsZXMgZWdldCB1dCBvZGlvLiBTdXNwZW5kaXNzZSB2ZWwgbmlzaSBhbGlxdWV0LCB2dWxwdXRhdGUganVzdG8gdXQsIHZlbmVuYXRpcyBzYXBpZW4uIEN1cmFiaXR1ciBsZWN0dXMgZG9sb3IsIGZlcm1lbnR1bSBzaXQgYW1ldCBjb25ndWUgZWdldCwgdml2ZXJyYSBhIGFudGUuIE51bGxhIG1hZ25hIGVuaW0sIGRpZ25pc3NpbSBub24gcHVydXMgZXUsIGV1aXNtb2QgdHJpc3RpcXVlIGxpZ3VsYS4gRXRpYW0gdml0YWUgcG9ydGEgb2Rpby4gQ3VyYWJpdHVyIGEgbWFnbmEgaWQgbnVsbGEgYWNjdW1zYW4gZ3JhdmlkYSB2ZWwgdml0YWUgdGVsbHVzLiBNYWVjZW5hcyBuaXNsIG9kaW8sIGltcGVyZGlldCBub24gaXBzdW0gbmVjLCBmYXVjaWJ1cyBwb3J0YSBudWxsYS4gTW9yYmkgbWV0dXMgZXJvcywgdWx0cmljaWVzIGlkIG1hdXJpcyBldSwgdmVoaWN1bGEgY3Vyc3VzIGFudGUuIERvbmVjIGluIHVybmEgYmxhbmRpdCwgZWdlc3RhcyBzZW0gbG9ib3J0aXMsIHNjZWxlcmlzcXVlIHJpc3VzLiBTZWQgb3JuYXJlIGV4IGZlbGlzLCBzaXQgYW1ldCBjb25ndWUgc2FwaWVuIHRlbXBvciBpZC4gVmVzdGlidWx1bSBhIG9yY2kgbmVjIG1hZ25hIG1heGltdXMgaGVuZHJlcml0IGEgbm9uIGF1Z3VlLjwvcD5cblxuXG4gICAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUubW9kYWxPcGVuICYmXG4gICAgICAgIDxNb2RhbCBvcGVuPXt0aGlzLnN0YXRlLm1vZGFsT3Blbn0gLz5cbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKShQYWdlMylcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3JvdXRlcy9wYWdlNC9pbmRleC5qcyIsImltcG9ydCBSZWFjdCwge1xuICBDb21wb25lbnQsXG4gIFByb3BUeXBlcyxcbn0gZnJvbSAncmVhY3QnO1xuXG5jbGFzcyBNb2RhbCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5oYW5kbGVTY3JvbGwgPSB0aGlzLmhhbmRsZVNjcm9sbC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlU2Nyb2xsKGUsIHZhbHVlcykge1xuICAgIGNvbnN0ICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcbiAgICBpZiAoJHRhcmdldC5oYXNDbGFzcygnb3ZlcmxheScpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaWYgKCR0YXJnZXQuaGFzQ2xhc3MoJ292ZXJsYXktY29udGVudCcpKSB7XG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSAkdGFyZ2V0LnNjcm9sbFRvcCgpO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gJHRhcmdldC5oZWlnaHQoKTtcblxuICAgICAgY29uc3QgdG9wR2FwID0gc2Nyb2xsVG9wO1xuICAgICAgY29uc3QgYm90dG9tR2FwID0gJHRhcmdldFswXS5zY3JvbGxIZWlnaHQgLSAoc2Nyb2xsVG9wICsgaGVpZ2h0KTtcbiAgICAgIGNvbnN0IGlzQm90dG9tID0gYm90dG9tR2FwIDwgMjtcbiAgICAgIGNvbnN0IGlzVG9wID0gdG9wR2FwIDwgMTtcblxuICAgICAgaWYgKGlzQm90dG9tKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdidHRvbScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNUb3ApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1RvcCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucmVmcy5vdmVybGF5MS5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgZmFsc2UpO1xuICAgIHRoaXMucmVmcy5vdmVybGF5MS5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuaGFuZGxlU2Nyb2xsLCBmYWxzZSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpe1xuICAgIHRoaXMucmVmcy5vdmVybGF5MS5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbCwgZmFsc2UpO1xuICAgIHRoaXMucmVmcy5vdmVybGF5MS5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuaGFuZGxlU2Nyb2xsLCBmYWxzZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmxheVwiIHJlZj1cIm92ZXJsYXkxXCIgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC44KScsXG4gICAgICAgIH19IG9uU2Nyb2xsPXt0aGlzLmhhbmRsZVNjcm9sbH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVybGF5LWNvbnRlbnRcIiByZWY9XCJjb250ZW50MVwiIHN0eWxlPXt7XG4gICAgICAgICAgICB3aWR0aDogNTAwLCBvdmVyZmxvd1k6ICdzY3JvbGwnLCBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgICAgICB0b3A6ICcxMCUnLCBib3R0b206ICcxMCUnLCBsZWZ0OiAnMjAlJywgcmlnaHQ6ICcyMCUnLCBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgICAgICAgIH19PlxuICAgICAgICAgICAgT3ZlcmxheS1jb250ZW50XG5cbiAgICAgICAgICAgIE92ZXJsYXktY29udGVudFxuXG4gICAgICAgICAgICA8cD5Mb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBOdWxsYSBuZWMgdWx0cmljaWVzIGVuaW0uIENyYXMgc29sbGljaXR1ZGluIGlwc3VtIGFjY3Vtc2FuIGRhcGlidXMgb3JuYXJlLiBEb25lYyB0aW5jaWR1bnQgbGFjdXMgdWx0cmljZXMsIGhlbmRyZXJpdCBuaXNpIGV1LCBoZW5kcmVyaXQgbWFzc2EuIE51bGxhIHZpdGFlIHVybmEgYXQgZHVpIHJob25jdXMgZXVpc21vZCBpbiBldCBuZXF1ZS4gVmVzdGlidWx1bSBtYWxlc3VhZGEgZmluaWJ1cyBiaWJlbmR1bS4gUGVsbGVudGVzcXVlIGhhYml0YW50IG1vcmJpIHRyaXN0aXF1ZSBzZW5lY3R1cyBldCBuZXR1cyBldCBtYWxlc3VhZGEgZmFtZXMgYWMgdHVycGlzIGVnZXN0YXMuIE1hdXJpcyBuZWMgb2RpbyBxdWlzIHJpc3VzIGxhb3JlZXQgdGluY2lkdW50IG5lYyBzZWQgbGVjdHVzLiBJbiBzaXQgYW1ldCB0dXJwaXMgdGluY2lkdW50LCByaG9uY3VzIG5pYmggYXQsIHNhZ2l0dGlzIHR1cnBpcy4gQ3JhcyBsYW9yZWV0IGFsaXF1ZXQgbmliaCwgdml0YWUgdmVzdGlidWx1bSBqdXN0byBwdWx2aW5hciBub24uIEluIGVnZXN0YXMgbWkgbmVjIHVsdHJpY2VzIGNvbnNlY3RldHVyLiBQcm9pbiBwZWxsZW50ZXNxdWUgbWFzc2EgYXQgbnVuYyBlZmZpY2l0dXIgZGljdHVtLiBOdW5jIG5vbiBtYXVyaXMgdm9sdXRwYXQgbWFnbmEgc29sbGljaXR1ZGluIGZhY2lsaXNpcyBldSBhIG5lcXVlLiBWZXN0aWJ1bHVtIGdyYXZpZGEgdWx0cmljZXMgZXJhdCBldCBpbXBlcmRpZXQuIE51bmMgbmVjIG5pYmggY29udmFsbGlzLCB0cmlzdGlxdWUgZXJhdCBlZ2V0LCByaG9uY3VzIGFyY3UuPC9wPlxuICAgICAgICAgICAgPHA+VmVzdGlidWx1bSB2ZWhpY3VsYSBkaWduaXNzaW0gcmhvbmN1cy4gTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gTnVsbGEgbm9uIG5pc2wgYmliZW5kdW0sIHRpbmNpZHVudCBudW5jIGFjLCB2ZWhpY3VsYSBsb3JlbS4gTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gUHJvaW4gbm9uIGVmZmljaXR1ciBsYWN1cywgdXQgYXVjdG9yIG5lcXVlLiBNYWVjZW5hcyB2ZWwgcmlzdXMgc2VkIGp1c3RvIGN1cnN1cyBhdWN0b3IgZWdldCB2dWxwdXRhdGUgZXguIEV0aWFtIG5vbiB0aW5jaWR1bnQgZXJvcy4gTnVuYyBpbXBlcmRpZXQgcHJldGl1bSBsYWN1cy4gUGhhc2VsbHVzIGZhdWNpYnVzIGVzdCBhdCB0dXJwaXMgdml2ZXJyYSBwb3N1ZXJlLiBTdXNwZW5kaXNzZSBpZCBpbnRlcmR1bSBlbmltLiBOdWxsYSBkb2xvciBsZWN0dXMsIGdyYXZpZGEgdXQgbmVxdWUgc2VkLCB0cmlzdGlxdWUgdmVuZW5hdGlzIG5lcXVlLiBNYWVjZW5hcyBsYW9yZWV0IGV1aXNtb2Qgb2RpbyB2aXRhZSBmaW5pYnVzLiBOdWxsYSBhIGFyY3UgZXguIENsYXNzIGFwdGVudCB0YWNpdGkgc29jaW9zcXUgYWQgbGl0b3JhIHRvcnF1ZW50IHBlciBjb251YmlhIG5vc3RyYSwgcGVyIGluY2VwdG9zIGhpbWVuYWVvcy4gTnVuYyBibGFuZGl0IHVsdHJpY2llcyBpbXBlcmRpZXQuIERvbmVjIGlkIGxlbyBpbXBlcmRpZXQsIGNvbnNlY3RldHVyIGxpZ3VsYSBpZCwgY29uc2VxdWF0IGR1aS48L3A+XG4gICAgICAgICAgICA8cD5TdXNwZW5kaXNzZSBwb3RlbnRpLiBEb25lYyB1bHRyaWNlcyBldWlzbW9kIG5pYmggYWMgY29uZGltZW50dW0uIENyYXMgc29kYWxlcyBlZ2VzdGFzIGVuaW0gZWdldCBjb25ndWUuIFZpdmFtdXMgbm9uIGp1c3RvIHF1aXMgdHVycGlzIGxhb3JlZXQgbHVjdHVzLiBBbGlxdWFtIGEgbGFjaW5pYSBudWxsYS4gUGVsbGVudGVzcXVlIGNvbmd1ZSBzdXNjaXBpdCBlcmF0IHNlZCBsYWNpbmlhLiBQcmFlc2VudCBpYWN1bGlzIG1pIGF0IHZlbGl0IG1hbGVzdWFkYSBhdWN0b3IuIFF1aXNxdWUgaW4gdG9ydG9yIHZlbCBlc3QgZmluaWJ1cyBzYWdpdHRpcy4gVXQgbnVuYyBtYXVyaXMsIGRpZ25pc3NpbSB2aXRhZSBmZWxpcyBldSwgdml2ZXJyYSBzZW1wZXIgc2VtLiBQaGFzZWxsdXMgdGVtcHVzIHRvcnRvciBkaWFtLCBhdCBwaGFyZXRyYSBvZGlvIGhlbmRyZXJpdCBzaXQgYW1ldC4gTWFlY2VuYXMgdmFyaXVzIHF1YW0gdXQgaXBzdW0gcmhvbmN1cywgbm9uIG1vbGVzdGllIG1ldHVzIGZpbmlidXMuIEludGVnZXIgcXVpcyBzb2RhbGVzIHF1YW0uIFBoYXNlbGx1cyBmcmluZ2lsbGEgYmxhbmRpdCBsZWN0dXMgc2l0IGFtZXQgZGlnbmlzc2ltLiBTZWQgdHJpc3RpcXVlIGNvbW1vZG8ganVzdG8gc2l0IGFtZXQgZWxlbWVudHVtLiBQcmFlc2VudCBhIHJob25jdXMgZG9sb3IuPC9wPlxuICAgICAgICAgICAgPHA+TnVuYyBpbiBudWxsYSBpcHN1bS4gTnVsbGEgdmVuZW5hdGlzLCBudWxsYSBhdCBlZmZpY2l0dXIgbW9sZXN0aWUsIGxpZ3VsYSBleCB1bGxhbWNvcnBlciB1cm5hLCBpZCBpbXBlcmRpZXQgZG9sb3Igc2FwaWVuIG5lYyBhcmN1LiBBZW5lYW4gaWQgbWF0dGlzIGxpYmVybywgYWMgY29uc2VxdWF0IGF1Z3VlLiBNYXVyaXMgcnV0cnVtIHRvcnRvciB2ZWxpdCwgc2l0IGFtZXQgcG9ydHRpdG9yIG51bGxhIG1heGltdXMgaW4uIFBlbGxlbnRlc3F1ZSBpbiBuaXNsIHRlbGx1cy4gTWFlY2VuYXMgc2VkIHZlbGl0IHNpdCBhbWV0IGF1Z3VlIGx1Y3R1cyByaG9uY3VzIHZpdGFlIGEgZXN0LiBNYWVjZW5hcyBzZWQgZGlhbSB2ZXN0aWJ1bHVtLCB0aW5jaWR1bnQgZHVpIG5vbiwgbWF0dGlzIG1hZ25hLiBDdXJhYml0dXIgYXQgbnVsbGEgaWQgYXVndWUgZGFwaWJ1cyB2b2x1dHBhdCBhIGV1IG5lcXVlLiBDdXJhYml0dXIgbGFvcmVldCB2dWxwdXRhdGUgZG9sb3Igbm9uIGFjY3Vtc2FuLiBQZWxsZW50ZXNxdWUgYWNjdW1zYW4gaXBzdW0gbmlzaSwgaW4gdGluY2lkdW50IG1ldHVzIGlhY3VsaXMgdml0YWUuIE1hdXJpcyBzdXNjaXBpdCBlbGVtZW50dW0gbmlzbCB2aXRhZSBlZmZpY2l0dXIuIFN1c3BlbmRpc3NlIGZhdWNpYnVzIGxpYmVybyBkaWFtLCBldCBwbGFjZXJhdCBwdXJ1cyBhdWN0b3Igc2l0IGFtZXQuIERvbmVjIHZpdGFlIGxpYmVybyBub24gaXBzdW0gY29uZGltZW50dW0gcnV0cnVtIHV0IHNpdCBhbWV0IG1ldHVzLjwvcD5cbiAgICAgICAgICAgIDxwPk1hdXJpcyBub24gZWZmaWNpdHVyIG1ldHVzLiBTdXNwZW5kaXNzZSBpbiBmaW5pYnVzIGxhY3VzLiBTZWQgbGliZXJvIGlwc3VtLCBmZXVnaWF0IHV0IHZhcml1cyBzZWQsIG1vbGxpcyBzZWQgZXN0LiBNb3JiaSBtYXNzYSBvZGlvLCBpYWN1bGlzIGlkIGxhY2luaWEgdWx0cmljZXMsIG1vbGVzdGllIG5lYyBudW5jLiBQZWxsZW50ZXNxdWUgcG9ydHRpdG9yIGFudGUgdmVsIGxhY3VzIHZlaGljdWxhLCB2aXRhZSB1bGxhbWNvcnBlciBxdWFtIHBvc3VlcmUuIFZlc3RpYnVsdW0gZWdldCBpYWN1bGlzIGFyY3UuIEluIHByZXRpdW0gcHJldGl1bSB0ZW1wb3IuIENyYXMgbGliZXJvIG1hdXJpcywgdmFyaXVzIGVnZXQgbmVxdWUgdml0YWUsIGNvbmd1ZSBydXRydW0gcmlzdXMuIFF1aXNxdWUgb2RpbyBuaXNsLCBwbGFjZXJhdCB2aXRhZSBtb2xlc3RpZSBuZWMsIGVsZWlmZW5kIGlkIG5pc2wuIEluIHZvbHV0cGF0LCBlcm9zIGV1IGZldWdpYXQgcGxhY2VyYXQsIGRpYW0gZG9sb3Igc29kYWxlcyBsYWN1cywgc2VkIHNlbXBlciB2ZWxpdCBhcmN1IGF0IHR1cnBpcy4gTnVsbGFtIHZhcml1cywgbWFzc2EgZWdldCBsYW9yZWV0IGVsZW1lbnR1bSwgZG9sb3Igc2FwaWVuIGFsaXF1YW0gZWxpdCwgdWx0cmljaWVzIGx1Y3R1cyBudWxsYSBhcmN1IG1hdHRpcyBtYXVyaXMuIEFsaXF1YW0gcHJldGl1bSBlcm9zIHV0IHVsbGFtY29ycGVyIGJsYW5kaXQuIFV0IGZldWdpYXQgZGlhbSB2ZWwganVzdG8gdnVscHV0YXRlLCBxdWlzIHZlc3RpYnVsdW0gbWV0dXMgdGluY2lkdW50LiBGdXNjZSBhcmN1IGxhY3VzLCB2b2x1dHBhdCBlZ2V0IG51bmMgYSwgdmVoaWN1bGEgdHJpc3RpcXVlIG1hZ25hLjwvcD5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IHN0eWxlPXt7aGVpZ2h0OiAnMTAwJScsIG92ZXJmbG93OiAnYXV0byd9fT48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuTW9kYWwucHJvcFR5cGVzID0ge307XG5Nb2RhbC5kZWZhdWx0UHJvcHMgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgTW9kYWw7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yb3V0ZXMvcGFnZTQvQ29udGFpbmVyL01vZGFsL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==